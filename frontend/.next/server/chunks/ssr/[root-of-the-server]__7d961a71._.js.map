{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Butchery/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\ninterface Product {\n  id: number;\n  name: string;\n  description: string;\n  price: string;\n  quantity: number;\n  image?: string;\n}\n\ninterface CartItem {\n  product: Product;\n  quantity: number;\n}\n\nexport default function UserDashboard() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [cart, setCart] = useState<CartItem[]>([]);\n  const [showCheckout, setShowCheckout] = useState(false);\n  const [customer, setCustomer] = useState({ name: \"\", email: \"\", phone: \"\", address: \"\", payment: \"\" });\n  const [orderSuccess, setOrderSuccess] = useState(false);\n\n  useEffect(() => {\n    axios.get(\"http://localhost:8000/api/products/\").then(res => setProducts(res.data));\n  }, []);\n\n  const addToCart = (product: Product) => {\n    setCart(prev => {\n      const found = prev.find(item => item.product.id === product.id);\n      if (found) {\n        return prev.map(item => item.product.id === product.id ? { ...item, quantity: item.quantity + 1 } : item);\n      }\n      return [...prev, { product, quantity: 1 }];\n    });\n  };\n\n  const removeFromCart = (productId: number) => {\n    setCart(prev => prev.filter(item => item.product.id !== productId));\n  };\n\n  const handleCheckout = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const order = {\n      customer_name: customer.name,\n      customer_email: customer.email,\n      customer_phone: customer.phone,\n      address: customer.address,\n      payment_details: customer.payment,\n      products: cart.map(item => item.product.id),\n      total_price: cart.reduce((sum, item) => sum + parseFloat(item.product.price) * item.quantity, 0),\n    };\n    await axios.post(\"http://localhost:8000/api/orders/\", order);\n    setOrderSuccess(true);\n    setCart([]);\n    setShowCheckout(false);\n    setCustomer({ name: \"\", email: \"\", phone: \"\", address: \"\", payment: \"\" });\n    setTimeout(() => setOrderSuccess(false), 4000);\n  };\n\n  return (\n    <div className=\"max-w-5xl mx-auto p-4 md:p-8\">\n      <h1 className=\"text-4xl font-extrabold mb-8 text-red-900 tracking-tight flex items-center gap-2\">\n        <span role=\"img\" aria-label=\"butcher\">ðŸ¥©</span> Welcome to the Butchery!\n      </h1>\n      {orderSuccess && (\n        <div className=\"bg-green-100 border border-green-300 text-green-900 p-4 rounded-lg mb-6 shadow transition-all animate-fade-in\">\n          <span className=\"font-semibold\">Order placed successfully!</span>\n        </div>\n      )}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-10\">\n        <div>\n          <h2 className=\"text-2xl font-bold mb-6 text-gray-800\">Products</h2>\n          <ul className=\"space-y-6\">\n            {products.map(product => (\n              <li key={product.id} className=\"bg-white border border-gray-200 rounded-2xl p-6 flex flex-col md:flex-row items-center gap-6 shadow-md hover:shadow-lg transition-shadow\">\n                {product.image && <img src={product.image} alt={product.name} className=\"w-32 h-32 object-cover rounded-xl border border-gray-200 shadow-sm\" />}\n                <div className=\"flex-1 w-full\">\n                  <div className=\"font-bold text-xl text-red-900 mb-1\">{product.name}</div>\n                  <div className=\"text-gray-600 mb-2\">{product.description}</div>\n                  <div className=\"text-red-800 font-semibold text-lg mb-1\">${product.price}</div>\n                  <div className=\"text-sm text-gray-500 mb-2\">Stock: {product.quantity}</div>\n                  <button\n                    className=\"bg-gradient-to-r from-red-700 to-red-500 text-white px-6 py-2 rounded-full font-semibold shadow hover:from-red-800 hover:to-red-600 transition disabled:opacity-50\"\n                    onClick={() => addToCart(product)}\n                    disabled={product.quantity === 0}\n                  >\n                    Add to Cart\n                  </button>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div>\n          <h2 className=\"text-2xl font-bold mb-6 text-gray-800\">Cart</h2>\n          <div className=\"bg-white border border-gray-200 rounded-2xl p-6 shadow-md\">\n            {cart.length === 0 ? (\n              <div className=\"text-gray-400 text-center\">Your cart is empty.</div>\n            ) : (\n              <ul className=\"space-y-4 mb-6\">\n                {cart.map(item => (\n                  <li key={item.product.id} className=\"flex justify-between items-center border-b pb-2 last:border-b-0\">\n                    <span className=\"font-medium\">{item.product.name} x {item.quantity}</span>\n                    <span className=\"text-red-900 font-semibold\">${(parseFloat(item.product.price) * item.quantity).toFixed(2)}</span>\n                    <button className=\"text-red-600 ml-2 hover:underline\" onClick={() => removeFromCart(item.product.id)}>Remove</button>\n                  </li>\n                ))}\n              </ul>\n            )}\n            <div className=\"font-bold text-lg mb-6 text-right\">Total: ${cart.reduce((sum, item) => sum + parseFloat(item.product.price) * item.quantity, 0).toFixed(2)}</div>\n            <button\n              className=\"w-full bg-gradient-to-r from-green-700 to-green-500 text-white px-6 py-3 rounded-full font-bold shadow hover:from-green-800 hover:to-green-600 transition disabled:opacity-50 mb-2\"\n              onClick={() => setShowCheckout(true)}\n              disabled={cart.length === 0}\n            >\n              Checkout\n            </button>\n            {showCheckout && (\n              <form className=\"mt-6 space-y-3 animate-fade-in\" onSubmit={handleCheckout}>\n                <input required className=\"w-full border p-3 rounded-lg\" placeholder=\"Name\" value={customer.name} onChange={e => setCustomer({ ...customer, name: e.target.value })} />\n                <input required className=\"w-full border p-3 rounded-lg\" placeholder=\"Email\" type=\"email\" value={customer.email} onChange={e => setCustomer({ ...customer, email: e.target.value })} />\n                <input className=\"w-full border p-3 rounded-lg\" placeholder=\"Phone\" value={customer.phone} onChange={e => setCustomer({ ...customer, phone: e.target.value })} />\n                <textarea required className=\"w-full border p-3 rounded-lg\" placeholder=\"Address\" value={customer.address} onChange={e => setCustomer({ ...customer, address: e.target.value })} />\n                <input required className=\"w-full border p-3 rounded-lg\" placeholder=\"Payment Details (simulated)\" value={customer.payment} onChange={e => setCustomer({ ...customer, payment: e.target.value })} />\n                <button className=\"bg-gradient-to-r from-red-700 to-red-500 text-white px-6 py-3 rounded-full font-bold w-full shadow hover:from-red-800 hover:to-red-600 transition\" type=\"submit\">Place Order</button>\n                <button className=\"w-full mt-2 text-gray-500 underline\" type=\"button\" onClick={() => setShowCheckout(false)}>Cancel</button>\n              </form>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}