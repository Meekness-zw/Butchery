(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var r=a(5155),d=a(2115),s=a(3464),l=a(6766);function n(){let[e,t]=(0,d.useState)([]),[a,n]=(0,d.useState)([]),[o,i]=(0,d.useState)(!1),[c,m]=(0,d.useState)({name:"",email:"",phone:"",address:"",payment:""}),[u,h]=(0,d.useState)(!1);(0,d.useEffect)(()=>{s.A.get("https://butchery-1.onrender.com/api/products/").then(e=>t(e.data))},[]);let p=async e=>{e.preventDefault();let t={customer_name:c.name,customer_email:c.email,customer_phone:c.phone,address:c.address,payment_details:c.payment,products:a.map(e=>e.product.id),total_price:a.reduce((e,t)=>e+parseFloat(t.product.price)*t.quantity,0)};await s.A.post("https://butchery-1.onrender.com/api/orders/",t),h(!0),n([]),i(!1),m({name:"",email:"",phone:"",address:"",payment:""}),setTimeout(()=>h(!1),4e3)};return(0,r.jsxs)("div",{className:"max-w-5xl mx-auto p-4 md:p-8",children:[(0,r.jsxs)("h1",{className:"text-4xl font-extrabold mb-8 text-red-900 tracking-tight flex items-center gap-2",children:[(0,r.jsx)("span",{role:"img","aria-label":"butcher",children:"\uD83E\uDD69"})," Welcome to the Butchery!"]}),u&&(0,r.jsx)("div",{className:"bg-green-100 border border-green-300 text-green-900 p-4 rounded-lg mb-6 shadow transition-all animate-fade-in",children:(0,r.jsx)("span",{className:"font-semibold",children:"Order placed successfully!"})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Products"}),(0,r.jsx)("ul",{className:"space-y-6",children:e.map(e=>(0,r.jsxs)("li",{className:"bg-white border border-gray-200 rounded-2xl p-6 flex flex-col md:flex-row items-center gap-6 shadow-md hover:shadow-lg transition-shadow",children:[e.image&&(0,r.jsx)(l.default,{src:e.image,alt:e.name,width:128,height:128,className:"w-32 h-32 object-cover rounded-xl border border-gray-200 shadow-sm"}),(0,r.jsxs)("div",{className:"flex-1 w-full",children:[(0,r.jsx)("div",{className:"font-bold text-xl text-red-900 mb-1",children:e.name}),(0,r.jsx)("div",{className:"text-gray-600 mb-2",children:e.description}),(0,r.jsxs)("div",{className:"text-red-800 font-semibold text-lg mb-1",children:["$",e.price]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:["Stock: ",e.quantity]}),(0,r.jsx)("button",{className:"bg-gradient-to-r from-red-700 to-red-500 text-white px-6 py-2 rounded-full font-semibold shadow hover:from-red-800 hover:to-red-600 transition disabled:opacity-50",onClick:()=>{n(t=>t.find(t=>t.product.id===e.id)?t.map(t=>t.product.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{product:e,quantity:1}])},disabled:0===e.quantity,children:"Add to Cart"})]})]},e.id))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Cart"}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-md",children:[0===a.length?(0,r.jsx)("div",{className:"text-gray-400 text-center",children:"Your cart is empty."}):(0,r.jsx)("ul",{className:"space-y-4 mb-6",children:a.map(e=>(0,r.jsxs)("li",{className:"flex justify-between items-center border-b pb-2 last:border-b-0",children:[(0,r.jsxs)("span",{className:"font-medium",children:[e.product.name," x ",e.quantity]}),(0,r.jsxs)("span",{className:"text-red-900 font-semibold",children:["$",(parseFloat(e.product.price)*e.quantity).toFixed(2)]}),(0,r.jsx)("button",{className:"text-red-600 ml-2 hover:underline",onClick:()=>{var t;return t=e.product.id,void n(e=>e.filter(e=>e.product.id!==t))},children:"Remove"})]},e.product.id))}),(0,r.jsxs)("div",{className:"font-bold text-lg mb-6 text-right",children:["Total: $",a.reduce((e,t)=>e+parseFloat(t.product.price)*t.quantity,0).toFixed(2)]}),(0,r.jsx)("button",{className:"w-full bg-gradient-to-r from-green-700 to-green-500 text-white px-6 py-3 rounded-full font-bold shadow hover:from-green-800 hover:to-green-600 transition disabled:opacity-50 mb-2",onClick:()=>i(!0),disabled:0===a.length,children:"Checkout"}),o&&(0,r.jsxs)("form",{className:"mt-6 space-y-3 animate-fade-in",onSubmit:p,children:[(0,r.jsx)("input",{required:!0,className:"w-full border p-3 rounded-lg",placeholder:"Name",value:c.name,onChange:e=>m({...c,name:e.target.value})}),(0,r.jsx)("input",{required:!0,className:"w-full border p-3 rounded-lg",placeholder:"Email",type:"email",value:c.email,onChange:e=>m({...c,email:e.target.value})}),(0,r.jsx)("input",{className:"w-full border p-3 rounded-lg",placeholder:"Phone",value:c.phone,onChange:e=>m({...c,phone:e.target.value})}),(0,r.jsx)("textarea",{required:!0,className:"w-full border p-3 rounded-lg",placeholder:"Address",value:c.address,onChange:e=>m({...c,address:e.target.value})}),(0,r.jsx)("input",{required:!0,className:"w-full border p-3 rounded-lg",placeholder:"Payment Details (simulated)",value:c.payment,onChange:e=>m({...c,payment:e.target.value})}),(0,r.jsx)("button",{className:"bg-gradient-to-r from-red-700 to-red-500 text-white px-6 py-3 rounded-full font-bold w-full shadow hover:from-red-800 hover:to-red-600 transition",type:"submit",children:"Place Order"}),(0,r.jsx)("button",{className:"w-full mt-2 text-gray-500 underline",type:"button",onClick:()=>i(!1),children:"Cancel"})]})]})]})]})]})}},2449:(e,t,a)=>{Promise.resolve().then(a.bind(a,1057))}},e=>{e.O(0,[209,441,964,358],()=>e(e.s=2449)),_N_E=e.O()}]);